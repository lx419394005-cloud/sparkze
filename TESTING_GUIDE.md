#!/bin/bash

echo "📋 Sparkze 插件手动测试指南"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "✅ 已完成的优化:"
echo "  • 工具库集成 (utils.js)"
echo "  • 日志系统优化"
echo "  • 搜索防抖优化"
echo "  • Badge 显示修复"
echo "  • Background.js 修复"
echo ""
echo "🧪 测试步骤:"
echo ""
echo "1️⃣  重新加载插件"
echo "   chrome://extensions/ → 找到 Sparkze → 点击刷新 🔄"
echo ""
echo "2️⃣  打开测试网站"
echo "   • https://unsplash.com"
echo "   • https://pinterest.com"
echo "   • https://behance.net"
echo ""
echo "3️⃣  测试 Badge 功能"
echo "   • 悬停图片,应该看到分析按钮"
echo "   • 点击按钮,应该打开侧栏"
echo "   • 开始 AI 分析"
echo ""
echo "4️⃣  测试搜索功能"
echo "   • 打开侧栏或 Gallery"
echo "   • 输入搜索词,注意防抖效果 (300ms)"
echo ""
echo "5️⃣  检查控制台"
echo "   • 按 F12 打开开发者工具"
echo "   • 查看是否有错误"
echo "   • 过滤 [Sparkze] 查看日志"
echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "📊 性能测试 (可选):"
echo "   在控制台运行: SparkzePerformanceTest.runAll()"
echo ""
echo "🐛 如有问题:"
echo "   • 查看控制台错误信息"
echo "   • 运行 ./verify-optimization.sh 验证文件"
echo "   • 从 .backup/ 恢复文件"
echo ""
